<div class="page-container">
  <div class="d-flex <%= @layout %>">
    <div class="half-width-container">
      <% @objects.each do |post| %>
        <div class="grey-bg ps2 mb4 w">
          <h4 class="caslon tac no-m pb2 letter-spacing-double"><%= post.title %></h4>
          <div class="post-content">
            <%= post.content.html_safe %>
          </div>
          <div class="d-flex align-items-center justify-content-between">
            <p class="no-pm"><%= post.time %></p>
            <% if user_signed_in? && current_user.admin %>
              <div class="d-flex align-items-center">
                <button class="edit admin-btn" data-id="<%= post.id %>" data-type="<%= post.class.to_s.downcase %>">✎</button>
                <%= link_to "✖", post_path(post), method: :delete, class: "admin-btn", remote: true %>
              </div>
            <% end %>
          </div>
          <% if user_signed_in? && current_user.admin %>
            <div id="<%= dom_id(post, :inline) %>" style="display: none">
              <%= render "posts/inline_form", object: post %>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
    <% unless @shows.empty? %>
      <div class="shows-widget w overflow mr4 grey-bg">
        <h4 class="caslon tac no-m pb2 letter-spacing-double">UPCOMING SHOWS</h4>
        <% @shows.each_with_index do |show, index| %>
          <div class="height64 d-flex justify-content-between align-items-center <%= show.border?(index, @shows.length) %>">
            <p class="no-pm"><%= show.display_date.upcase %> / <%= show.location %></p>
            <% unless show.link.empty? %>
              <%= link_to 'TICKETS', show.link, target: :_blank, class: "bm-btn no-d"%>
            <% end %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
